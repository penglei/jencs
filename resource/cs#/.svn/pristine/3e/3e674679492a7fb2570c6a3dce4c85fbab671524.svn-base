<?cs ####
	/**
	 * 智能排版 
	 */
?>

<?cs def:_set_smart_pic(pic,className, _cssText) ?>
	<?cs if: pic.type==2 ?>
		<?cs set:pic.action.className=pic.action.className+" with-sign " ?>
	<?cs /if ?>
	<?cs set:cssText = _cssText + "overflow:hidden;width:" + pic.box_width + "px;height:" + pic.box_height + "px;"?>
	<?cs call:v8__contentMedia_display_pic_start(pic, className, cssText)?>
	<?cs call:v8_imageFlag(pic.type) ?>
	<?cs call:setSmartCenter(pic, pic.box_width, pic.box_height, "")?>
	<img src="<?cs var:pic.src ?>" 
		<?cs call:v8_echoClass(pic)?>
		<?cs call:v8_echoStyle(pic)?>
	/>
	<?cs call:v8__contentMedia_display_pic_end()?>
<?cs /def ?>


<?cs def:v8__contentMedia_smart_4_A() ?>
	<div class="img-box" style="margin: 0 0 10px 0;width:400px;">
		<?cs call:_set_smart_pic(qfv.content.media.pic[0],"","float: left;margin: 0 5px 0 0;") ?>
		<?cs call:_set_smart_pic(qfv.content.media.pic[1],"","float: left;margin: 0 0 5px 0;") ?>
		<?cs call:_set_smart_pic(qfv.content.media.pic[2],"","float: left;margin: 0 0 5px 0;") ?>
		<?cs call:_set_smart_pic(qfv.content.media.pic[3],"","float: left;") ?>
	</div>
<?cs /def ?>

<?cs def:v8__contentMedia_smart_4_B() ?>
<div class="img-box" style="margin: 0 0 10px 0;width:400px;">
	<?cs call:_set_smart_pic(qfv.content.media.pic[0],"","float: left;margin: 0 5px 5px 0;") ?>
	<?cs call:_set_smart_pic(qfv.content.media.pic[1],"","float: left;margin: 0 0 5px 0;") ?>
	<?cs call:_set_smart_pic(qfv.content.media.pic[2],"","float: left;margin: 0 5px 0 0;") ?>
	<?cs call:_set_smart_pic(qfv.content.media.pic[3],"","float: left;") ?>
</div>
<?cs /def ?>

<?cs def:v8__contentMedia_smart_4_C() ?>
<div class="img-box" style="margin: 0 0 10px 0;width:400px;">
	<?cs call:_set_smart_pic(qfv.content.media.pic[0],"","float: left;margin: 0 0 5px 0;") ?>
	<?cs call:_set_smart_pic(qfv.content.media.pic[1],"","float: left;margin: 0 5px 0 0;") ?>
	<?cs call:_set_smart_pic(qfv.content.media.pic[2],"","float: left;margin: 0 5px 0 0;") ?>
	<?cs call:_set_smart_pic(qfv.content.media.pic[3],"","float: left;") ?>
</div>
<?cs /def ?>

<?cs def:v8__contentMedia_smart_4_D() ?>
<div class="img-box" style="margin: 0 0 10px 0;">
	<div style="width:197px;float:left;margin:0 5px 0 0">
		<?cs call:_set_smart_pic(qfv.content.media.pic[0],"","float: left;margin:0 0 5px 0;") ?>
		<?cs call:_set_smart_pic(qfv.content.media.pic[1],"","float: left;") ?>
	</div>
	<div style="width:197px;float:left;margin:0 5px 0 0">
	<?cs call:_set_smart_pic(qfv.content.media.pic[2],"","float: left;margin: 0 5px 5px 0;") ?>
	<?cs call:_set_smart_pic(qfv.content.media.pic[3],"","float: left;") ?>
	</div>
</div>
<?cs /def ?>

<?cs def:v8__contentMedia_smart() ?>
	<?cs set:_imgMode = qfv.content.media.smartLayoutType?>
	<?cs #call:_print("$$subcount(qfv.content.media.pic)", subcount(qfv.content.media.pic)) ?>
	<?cs set:count = subcount(qfv.content.media.pic)?>
	<?cs if: count == 4 ?>
		<?cs if:  _imgMode == G_SMART_LAYOUT_4_A ?>
			<?cs call:v8__contentMedia_smart_4_A() ?>
		<?cs elif:_imgMode == G_SMART_LAYOUT_4_B ?>
			<?cs call:v8__contentMedia_smart_4_B() ?>
		<?cs elif:_imgMode == G_SMART_LAYOUT_4_C ?>
			<?cs call:v8__contentMedia_smart_4_C() ?>
		<?cs elif:_imgMode == G_SMART_LAYOUT_4_D ?>
			<?cs call:v8__contentMedia_smart_4_D() ?>
		<?cs /if ?>
	<?cs /if ?>

<?cs /def ?>